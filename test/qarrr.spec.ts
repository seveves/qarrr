import { expect } from 'chai';
import { QArr } from '../src/qarrr';
import { ECCLevel } from '../src/enums';

describe('QArrr', () => {

  it('basic_code_generation_ecc_h', () => {
    const generator = new QArr();
    const qarr = generator.create('hello', { ecc: ECCLevel.H });
    expect(qarr.qrCode.version).to.equal(1);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,false,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,false,false,false,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,false,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,false,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,true,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,true,false,false,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,true,true,false,true,true,false,true,true,true,false,false,false,false,false,true,true,false,false,false,false,false,false],[false,false,false,false,true,false,true,false,false,true,false,true,false,true,true,false,false,false,true,true,true,true,true,false,false,false,false,false,false],[false,false,false,false,true,true,false,true,false,true,true,false,true,true,false,true,false,true,false,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,true,true,false,false,true,true,false,true,false,true,false,false,true,true,false,true,true,false,true,false,false,false,false,false,false],[false,false,false,false,false,true,false,false,true,true,true,true,true,false,false,false,false,false,true,true,true,true,false,true,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,false,true,false,true,true,true,false,false,true,false,true,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,false,false,true,false,false,false,true,false,false,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,true,true,false,true,false,false,false,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,false,true,false,false,false,true,true,false,true,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,true,true,true,false,false,true,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,true,false,true,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,true,true,true,true,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,true,false,false,true,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(29);
    expect(result).to.equal(expected);
  });

  
  it('basic_code_generation_ecc_l', () => {
    const generator = new QArr();
    const qarr = generator.create('hello', { ecc: ECCLevel.L });
    expect(qarr.qrCode.version).to.equal(1);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,true,false,true,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,false,true,false,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,false,false,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,false,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,false,false,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,false,false,true,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,false,true,false,false,true,true,false,true,true,false,false,false,true,true,true,false,true,true,false,false,false,false,false],[false,false,false,false,false,true,true,true,true,true,false,true,true,true,false,false,false,false,true,false,false,false,false,true,true,false,false,false,false],[false,false,false,false,false,false,true,true,false,true,true,true,true,false,true,false,true,true,false,false,false,true,true,false,true,false,false,false,false],[false,false,false,false,false,false,false,true,false,true,false,false,true,false,false,true,false,false,false,false,false,true,false,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,true,false,true,true,false,true,true,false,true,false,true,false,true,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,false,false,false,true,true,false,true,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,true,true,false,false,true,false,true,false,true,true,true,false,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,true,true,true,true,false,true,true,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,false,true,false,false,true,true,true,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,true,false,false,false,true,false,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,true,false,true,false,false,false,true,false,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,true,false,false,true,true,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,true,true,false,false,true,false,true,false,true,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(29);
    expect(result).to.equal(expected);
  });

  it('basic_code_generation_ecc_m', () => {
    const generator = new QArr();
    const qarr = generator.create('hello', { ecc: ECCLevel.M });
    expect(qarr.qrCode.version).to.equal(1);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,true,true,false,false,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,false,false,false,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,false,true,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,false,false,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,false,false,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,false,true,false,true,false,false,true,false,true,false,false,false,false,true,false,false,true,false,false,false,false,false],[false,false,false,false,false,false,true,false,true,true,false,false,false,false,true,false,false,false,true,false,false,false,false,true,true,false,false,false,false],[false,false,false,false,false,true,false,true,false,false,true,false,true,true,true,false,true,false,false,false,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,true,false,false,true,false,false,false,false,false,false,false,false,false,true,false,false,false,false,true,false,false,false,false,false],[false,false,false,false,false,true,true,false,true,false,true,true,false,false,true,false,true,false,true,false,true,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,false,true,false,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,true,true,false,true,true,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,true,true,true,true,false,true,true,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,true,false,true,true,true,false,false,false,true,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,false,false,false,false,true,true,false,false,true,true,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,true,false,true,false,false,false,true,false,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,false,false,false,false,true,false,true,false,false,true,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,true,true,false,true,false,true,true,false,false,false,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(29);
    expect(result).to.equal(expected);
  });

  it('basic_code_generation_ecc_q', () => {
    const generator = new QArr();
    const qarr = generator.create('hello', { ecc: ECCLevel.Q });
    expect(qarr.qrCode.version).to.equal(1);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,true,true,true,false,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,true,false,false,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,false,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,false,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,true,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,false,false,false,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,true,true,false,true,false,true,true,false,false,true,true,true,false,true,false,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,true,false,true,false,false,true,false,false,true,false,true,false,true,false,false,false,false,true,true,false,false,false,false],[false,false,false,false,false,true,false,true,false,true,true,false,false,false,false,true,false,false,false,false,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,true,false,true,false,false,true,true,true,false,false,true,false,true,false,false,false,false,true,false,false,false,false,false],[false,false,false,false,true,true,false,false,false,false,true,true,false,false,true,false,false,false,true,false,true,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,false,true,true,true,false,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,true,true,false,false,true,true,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,false,false,false,true,false,true,true,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,true,false,true,true,true,true,false,false,false,true,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,false,false,false,false,true,true,false,false,true,true,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,false,false,true,false,false,false,true,false,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,true,false,false,false,true,false,true,false,false,true,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,false,false,true,false,true,true,false,false,false,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(29);
    expect(result).to.equal(expected);
  });
  
  it('basic_code_generation_numeric', () => {
    const generator = new QArr();
    const qarr = generator.create('123', { ecc: ECCLevel.H });
    expect(qarr.qrCode.version).to.equal(1);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,true,true,true,false,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,true,false,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,false,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,false,true,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,false,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,false,false,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,true,true,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,true,false,true,true,true,false,true,true,false,true,false,true,false,false,false,true,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,true,false,false,false,true,true,true,true,true,false,true,false,true,false,false,true,false,false,false,false],[false,false,false,false,false,true,true,true,true,true,true,false,true,true,true,false,false,true,false,true,false,false,true,false,false,false,false,false,false],[false,false,false,false,true,false,false,true,true,false,false,false,true,true,false,true,false,false,true,true,true,true,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,true,true,false,true,false,true,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,true,true,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,true,true,true,true,false,false,true,false,false,true,false,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,false,true,false,true,true,false,false,false,true,true,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,true,false,false,false,false,true,false,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,true,true,true,true,true,true,false,true,false,true,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,true,false,true,false,false,true,false,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,false,true,true,false,false,true,true,true,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,false,true,true,false,true,true,false,true,true,false,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(29);
    expect(result).to.equal(expected);
  });

  it('basic_code_generation_alphanumeric', () => {
    const generator = new QArr();
    const qarr = generator.create('123ABC', { ecc: ECCLevel.H });
    expect(qarr.qrCode.version).to.equal(1);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,false,true,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,true,false,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,true,true,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,true,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,false,false,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,false,true,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,false,true,true,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,true,true,false,false,true,false,true,true,false,true,false,true,false,true,false,true,false,false,false,false],[false,false,false,false,false,true,false,false,true,false,false,true,false,true,true,false,false,true,false,true,true,false,true,true,false,false,false,false,false],[false,false,false,false,true,true,true,false,true,false,true,false,true,true,false,true,true,true,true,true,false,true,true,true,true,false,false,false,false],[false,false,false,false,false,true,true,true,false,false,false,true,true,true,false,true,false,true,false,true,false,false,true,false,true,false,false,false,false],[false,false,false,false,true,true,false,false,true,false,true,false,false,false,false,false,false,false,false,true,true,true,false,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,false,false,false,true,false,false,false,false,true,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,true,true,true,false,true,false,true,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,false,true,false,false,true,true,false,false,true,true,true,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,true,true,false,false,false,false,true,true,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,false,true,true,true,false,false,true,false,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,true,true,true,false,false,false,true,true,true,false,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,false,true,true,true,false,false,false,true,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,true,false,false,false,true,false,true,false,false,true,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(29);
    expect(result).to.equal(expected);
  });

  it('basic_code_generation_utf8', () => {
    const generator = new QArr();
    const qarr = generator.create('hello§ßöÜä+123', { ecc: ECCLevel.H });
    expect(qarr.qrCode.version).to.equal(3);
    const expected = '[[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,true,false,false,true,false,true,false,false,false,false,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,true,false,false,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,true,false,false,true,false,true,true,false,true,true,false,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,false,true,false,false,false,false,false,false,false,true,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,false,false,true,true,false,false,false,true,true,true,true,true,false,false,true,false,true,true,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,true,false,false,false,true,false,false,false,false,true,false,true,true,false,true,false,false,false,false,false,true,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,true,true,true,true,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,false,true,false,false,false,true,false,false,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,true,true,true,false,true,false,true,true,false,true,false,false,false,true,true,false,false,false,false,true,true,true,false,false,true,true,true,false,false,false,false],[false,false,false,false,true,false,true,false,true,false,false,true,true,true,true,true,false,false,true,false,true,false,true,false,true,false,true,false,true,false,false,true,true,false,false,false,false],[false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true,false,true,false,false,false,true,false,true,false,true,false,false,false,true,true,false,false,false,false,false,false],[false,false,false,false,false,false,true,true,true,true,false,true,true,false,true,true,false,false,false,false,false,false,true,true,true,true,true,false,true,false,true,true,false,false,false,false,false],[false,false,false,false,false,true,true,true,true,false,true,false,true,false,false,true,true,false,false,true,true,false,false,true,false,true,true,false,true,false,true,true,true,false,false,false,false],[false,false,false,false,false,false,true,true,true,true,false,false,false,true,true,false,true,false,false,true,true,true,false,false,true,true,true,true,false,true,false,true,false,false,false,false,false],[false,false,false,false,false,false,true,false,false,false,true,false,true,false,false,false,true,true,false,true,true,false,false,true,true,true,false,true,false,true,false,false,true,false,false,false,false],[false,false,false,false,true,true,false,false,false,true,false,true,false,true,false,false,false,false,false,true,false,false,false,true,true,false,true,true,false,true,false,true,false,false,false,false,false],[false,false,false,false,false,false,false,true,true,true,true,false,false,true,true,true,false,true,true,false,true,true,false,true,true,true,false,true,false,false,true,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,true,false,false,false,false,true,false,true,true,true,false,false,false,false,true,false,false,true,false,false,true,true,false,true,true,false,false,false,false],[false,false,false,false,true,false,false,true,false,true,true,false,false,true,false,true,false,false,false,true,true,true,true,false,true,false,false,true,true,false,false,false,false,false,false,false,false],[false,false,false,false,true,false,false,true,true,false,false,false,true,true,false,false,false,true,false,false,false,false,true,false,false,false,true,false,true,false,false,false,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,true,true,true,false,false,true,true,false,false,false,true,true,true,false,false,true,true,true,true,true,false,true,true,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,true,true,false,false,true,false,true,true,false,true,true,true,true,false,false,false,true,true,true,false,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,false,true,false,false,true,true,false,true,true,false,true,false,true,false,true,false,false,true,true,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,true,false,false,false,false,false,true,true,true,true,false,true,false,false,false,true,true,false,false,true,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,false,true,true,false,false,true,true,false,true,true,true,true,true,true,true,false,true,true,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,false,true,true,true,true,false,true,true,true,true,true,false,true,false,false,false,true,false,false,false,false,false,false],[false,false,false,false,true,false,true,true,true,false,true,false,true,false,true,false,true,true,true,false,false,true,false,false,false,true,false,true,true,true,true,true,false,false,false,false,false],[false,false,false,false,true,false,false,false,false,false,true,false,false,false,true,false,true,false,true,false,true,false,true,false,false,false,true,false,true,false,false,true,false,false,false,false,false],[false,false,false,false,true,true,true,true,true,true,true,false,false,false,false,true,false,false,true,true,false,false,false,true,true,true,true,true,false,true,true,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]]';
    const result = JSON.stringify(qarr.qrCode.moduleMatrix);
    expect(qarr.qrCode.moduleMatrix.length).to.equal(37);
    expect(result).to.equal(expected);
  });

});
